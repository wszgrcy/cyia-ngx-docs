(window.webpackJsonp=window.webpackJsonp||[]).push([[10,18],{Zg31:function(e,t,s){"use strict";function n(e,t){return e&&Number.isInteger(Number.parseInt(t,10))}s.d(t,"a",(function(){return n}))},qIzr:function(e,t,s){"use strict";s.r(t),s.d(t,"DocCatalogModule",(function(){return re}));var n=s("ofXK"),r=s("XNiG"),i=s("VRyK"),o=s("xgIS"),a=s("pLZG"),c=s("1G5W"),d=s("IzEk"),l=s("Kj3r"),h=s("0EQZ"),u=s("7+OI"),p=s("2Vo4"),b=s("LRne"),_=s("fXoL"),f=s("8LU1"),g=s("u47x"),m=s("cH1L");class v extends class{constructor(){this.expansionModel=new h.c(!0)}toggle(e){this.expansionModel.toggle(this._trackByValue(e))}expand(e){this.expansionModel.select(this._trackByValue(e))}collapse(e){this.expansionModel.deselect(this._trackByValue(e))}isExpanded(e){return this.expansionModel.isSelected(this._trackByValue(e))}toggleDescendants(e){this.expansionModel.isSelected(this._trackByValue(e))?this.collapseDescendants(e):this.expandDescendants(e)}collapseAll(){this.expansionModel.clear()}expandDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.select(...t.map(e=>this._trackByValue(e)))}collapseDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.deselect(...t.map(e=>this._trackByValue(e)))}_trackByValue(e){return this.trackBy?this.trackBy(e):e}}{constructor(e,t,s){super(),this.getLevel=e,this.isExpandable=t,this.options=s,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(e){const t=[];for(let s=this.dataNodes.indexOf(e)+1;s<this.dataNodes.length&&this.getLevel(e)<this.getLevel(this.dataNodes[s]);s++)t.push(this.dataNodes[s]);return t}expandAll(){this.expansionModel.select(...this.dataNodes.map(e=>this._trackByValue(e)))}}const y=new _.r("CDK_TREE_NODE_OUTLET_NODE");let x=(()=>{class e{constructor(e,t){this.viewContainer=e,this._node=t}}return e.\u0275fac=function(t){return new(t||e)(_.Mb(_.R),_.Mb(y,8))},e.\u0275dir=_.Hb({type:e,selectors:[["","cdkTreeNodeOutlet",""]]}),e})();class C{constructor(e){this.$implicit=e}}let w=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(_.Mb(_.N))},e.\u0275dir=_.Hb({type:e,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),e})(),N=(()=>{class e{constructor(e,t){this._differs=e,this._changeDetectorRef=t,this._onDestroy=new r.a,this._levels=new Map,this.viewChange=new p.a({start:0,end:Number.MAX_VALUE})}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}ngOnInit(){if(this._dataDiffer=this._differs.find([]).create(this.trackBy),!this.treeControl)throw Error("Could not find a tree control for the tree.")}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const e=this._nodeDefs.filter(e=>!e.when);if(e.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultNodeDef=e[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let e;if(Object(h.e)(this._dataSource)?e=this._dataSource.connect(this):Object(u.a)(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=Object(b.a)(this._dataSource)),!e)throw Error("A valid data source must be provided.");this._dataSubscription=e.pipe(Object(c.a)(this._onDestroy)).subscribe(e=>this.renderNodeChanges(e))}renderNodeChanges(e,t=this._dataDiffer,s=this._nodeOutlet.viewContainer,n){const r=t.diff(e);r&&(r.forEachOperation((t,r,i)=>{if(null==t.previousIndex)this.insertNode(e[i],i,s,n);else if(null==i)s.remove(r),this._levels.delete(t.item);else{const e=s.get(r);s.move(e,i)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(e,t){if(1===this._nodeDefs.length)return this._nodeDefs.first;const s=this._nodeDefs.find(s=>s.when&&s.when(t,e))||this._defaultNodeDef;if(!s)throw Error("Could not find a matching node definition for the provided node data.");return s}insertNode(e,t,s,n){const r=this._getNodeDef(e,t),i=new C(e);i.level=this.treeControl.getLevel?this.treeControl.getLevel(e):void 0!==n&&this._levels.has(n)?this._levels.get(n)+1:0,this._levels.set(e,i.level),(s||this._nodeOutlet.viewContainer).createEmbeddedView(r.template,i,t),S.mostRecentTreeNode&&(S.mostRecentTreeNode.data=e)}}return e.\u0275fac=function(t){return new(t||e)(_.Mb(_.t),_.Mb(_.h))},e.\u0275cmp=_.Gb({type:e,selectors:[["cdk-tree"]],contentQueries:function(e,t,s){var n;1&e&&_.Fb(s,w,!0),2&e&&_.oc(n=_.bc())&&(t._nodeDefs=n)},viewQuery:function(e,t){var s;1&e&&_.uc(x,!0),2&e&&_.oc(s=_.bc())&&(t._nodeOutlet=s.first)},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(e,t){1&e&&_.Ob(0,0)},directives:[x],encapsulation:2}),e})(),S=(()=>{class e{constructor(t,s){this._elementRef=t,this._tree=s,this._destroyed=new r.a,this._dataChanges=new r.a,this.role="treeitem",e.mostRecentTreeNode=this}get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):0}ngOnDestroy(){e.mostRecentTreeNode===this&&(e.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){if(this._tree.treeControl.isExpandable)this.role=this._tree.treeControl.isExpandable(this._data)?"group":"treeitem";else{if(!this._tree.treeControl.getChildren)throw Error("Could not find functions for nested/flat tree in tree control.");const e=this._tree.treeControl.getChildren(this._data);Array.isArray(e)?this._setRoleFromChildren(e):Object(u.a)(e)&&e.pipe(Object(c.a)(this._destroyed)).subscribe(e=>this._setRoleFromChildren(e))}}_setRoleFromChildren(e){this.role=e&&e.length?"group":"treeitem"}}return e.\u0275fac=function(t){return new(t||e)(_.Mb(_.l),_.Mb(N))},e.\u0275dir=_.Hb({type:e,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:3,hostBindings:function(e,t){2&e&&_.Cb("aria-expanded",t.isExpanded)("aria-level","treeitem"===t.role?t.level:null)("role",t.role)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),e.mostRecentTreeNode=null,e})();const O=/([A-Za-z%]+)$/;let D=(()=>{class e{constructor(e,t,s,n,i){this._treeNode=e,this._tree=t,this._element=n,this._dir=i,this._destroyed=new r.a,this.indentUnits="px",this._indent=40,this._setPadding(),i&&i.change.pipe(Object(c.a)(this._destroyed)).subscribe(()=>this._setPadding(!0)),e._dataChanges.subscribe(()=>this._setPadding())}get level(){return this._level}set level(e){this._level=Object(f.e)(e,null),this._setPadding()}get indent(){return this._indent}set indent(e){let t=e,s="px";if("string"==typeof e){const n=e.split(O);t=n[0],s=n[1]||s}this.indentUnits=s,this._indent=Object(f.e)(t),this._setPadding()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const e=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,t=null==this._level?e:this._level;return"number"==typeof t?`${t*this._indent}${this.indentUnits}`:null}_setPadding(e=!1){const t=this._paddingIndent();if(t!==this._currentPadding||e){const e=this._element.nativeElement,s=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",n="paddingLeft"===s?"paddingRight":"paddingLeft";e.style[s]=t||"",e.style[n]="",this._currentPadding=t}}}return e.\u0275fac=function(t){return new(t||e)(_.Mb(S),_.Mb(N),_.Mb(_.F),_.Mb(_.l),_.Mb(m.b,8))},e.\u0275dir=_.Hb({type:e,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}}),e})(),k=(()=>{class e{constructor(e,t){this._tree=e,this._treeNode=t,this._recursive=!1}get recursive(){return this._recursive}set recursive(e){this._recursive=Object(f.c)(e)}_toggle(e){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)(_.Mb(N),_.Mb(S))},e.\u0275dir=_.Hb({type:e,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(e,t){1&e&&_.ac("click",(function(e){return t._toggle(e)}))},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),e})(),T=(()=>{class e{}return e.\u0275mod=_.Kb({type:e}),e.\u0275inj=_.Jb({factory:function(t){return new(t||e)},providers:[g.d,w]}),e})();var E=s("FKr1"),M=s("lJxs");const R=Object(E.i)(Object(E.h)(S));let j=(()=>{class e extends R{constructor(e,t,s){super(e,t),this._elementRef=e,this._tree=t,this.role="treeitem",this.tabIndex=Number(s)||0}}return e.\u0275fac=function(t){return new(t||e)(_.Mb(_.l),_.Mb(N),_.Xb("tabindex"))},e.\u0275dir=_.Hb({type:e,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:3,hostBindings:function(e,t){2&e&&_.Cb("aria-expanded",t.isExpanded)("aria-level","treeitem"===t.role?t.level:null)("role",t.role)},inputs:{disabled:"disabled",tabIndex:"tabIndex",role:"role"},exportAs:["matTreeNode"],features:[_.Ab([{provide:S,useExisting:e}]),_.yb]}),e})(),P=(()=>{class e extends w{}e.\u0275fac=function(s){return t(s||e)},e.\u0275dir=_.Hb({type:e,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[_.Ab([{provide:w,useExisting:e}]),_.yb]});const t=_.Ub(e);return e})(),A=(()=>{class e extends D{}e.\u0275fac=function(s){return t(s||e)},e.\u0275dir=_.Hb({type:e,selectors:[["","matTreeNodePadding",""]],inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},features:[_.Ab([{provide:D,useExisting:e}]),_.yb]});const t=_.Ub(e);return e})(),B=(()=>{class e{constructor(e,t){this.viewContainer=e,this._node=t}}return e.\u0275fac=function(t){return new(t||e)(_.Mb(_.R),_.Mb(y,8))},e.\u0275dir=_.Hb({type:e,selectors:[["","matTreeNodeOutlet",""]],features:[_.Ab([{provide:x,useExisting:e}])]}),e})(),L=(()=>{class e extends N{}e.\u0275fac=function(s){return t(s||e)},e.\u0275cmp=_.Gb({type:e,selectors:[["mat-tree"]],viewQuery:function(e,t){var s;1&e&&_.uc(B,!0),2&e&&_.oc(s=_.bc())&&(t._nodeOutlet=s.first)},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[_.Ab([{provide:N,useExisting:e}]),_.yb],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(e,t){1&e&&_.Ob(0,0)},directives:[B],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}\n"],encapsulation:2});const t=_.Ub(e);return e})(),I=(()=>{class e extends k{constructor(){super(...arguments),this.recursive=!1}}e.\u0275fac=function(s){return t(s||e)},e.\u0275dir=_.Hb({type:e,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[_.Ab([{provide:k,useExisting:e}]),_.yb]});const t=_.Ub(e);return e})(),F=(()=>{class e{}return e.\u0275mod=_.Kb({type:e}),e.\u0275inj=_.Jb({factory:function(t){return new(t||e)},imports:[[T,E.b],E.b]}),e})();class V{constructor(e,t,s,n){this.transformFunction=e,this.getLevel=t,this.isExpandable=s,this.getChildren=n}_flattenNode(e,t,s,n){const r=this.transformFunction(e,t);if(s.push(r),this.isExpandable(r)){const r=this.getChildren(e);r&&(Array.isArray(r)?this._flattenChildren(r,t,s,n):r.pipe(Object(d.a)(1)).subscribe(e=>{this._flattenChildren(e,t,s,n)}))}return s}_flattenChildren(e,t,s,n){e.forEach((r,i)=>{let o=n.slice();o.push(i!=e.length-1),this._flattenNode(r,t+1,s,o)})}flattenNodes(e){let t=[];return e.forEach(e=>this._flattenNode(e,0,t,[])),t}expandFlattenedNodes(e,t){let s=[],n=[];return n[0]=!0,e.forEach(e=>{let r=!0;for(let t=0;t<=this.getLevel(e);t++)r=r&&n[t];r&&s.push(e),this.isExpandable(e)&&(n[this.getLevel(e)+1]=t.isExpanded(e))}),s}}class H extends h.b{constructor(e,t,s=[]){super(),this._treeControl=e,this._treeFlattener=t,this._flattenedData=new p.a([]),this._expandedData=new p.a([]),this._data=new p.a(s)}get data(){return this._data.value}set data(e){this._data.next(e),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}connect(e){const t=[e.viewChange,this._treeControl.expansionModel.changed,this._flattenedData];return Object(i.a)(...t).pipe(Object(M.a)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}var $=s("iP3c"),U=s("YZbJ"),K=s("3yTk"),q=s("Zg31"),z=s("5Lli"),J=s("C8u/"),G=s("tyNb"),Z=s("ckw7"),Q=s("Mzne"),W=s("bTqV"),X=s("NFeN");const Y=function(e){return[e]};function ee(e,t){if(1&e&&(_.Sb(0,"mat-tree-node",3),_.Sb(1,"a",4),_.yc(2),_.Rb(),_.Rb()),2&e){const e=t.$implicit,s=_.ec();_.Bb(1),_.jc("routerLink",_.mc(4,Y,s.url))("fragment",e.name)("color",e.active?"primary":""),_.Bb(1),_.zc(e.name)}}function te(e,t){if(1&e&&(_.Sb(0,"mat-tree-node",3),_.Sb(1,"button",5),_.Sb(2,"mat-icon"),_.yc(3),_.Rb(),_.Rb(),_.Sb(4,"a",4),_.yc(5),_.Rb(),_.Rb()),2&e){const e=t.$implicit,s=_.ec();_.Bb(3),_.Ac(" ",s.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),_.Bb(1),_.jc("routerLink",_.mc(5,Y,s.url))("fragment",e.name)("color",e.active?"primary":""),_.Bb(1),_.zc(e.name)}}class se{constructor(){this.level=0,this.children=[]}}let ne=(()=>{class e{constructor(e,t,s,n,i,o){this.router=e,this.activatedRoute=t,this.renderer=s,this.cd=n,this.storeService=i,this.routerService=o,this.linkClick$=new r.a,this.destroy$=new r.a,this.map=new Map,this.treeControl=new v(e=>e.level,e=>!0),this.transformer=(()=>(e,t)=>{if(this.map.has(e)){const t=this.map.get(e);return t.active=e.active,t}const s={expandable:!!e.children&&e.children.length>0,name:e.name,level:t,active:e.active};return this.map.set(e,s),s})(),this.treeFlattener=new V(this.transformer,e=>e.level,e=>!0,e=>e.children),this.dataSource=new H(this.treeControl,this.treeFlattener),this.display="block",this.hasChild=(e,t)=>t.expandable,this.url=this.routerService.getPlainUrl(),this.storeService.getStore(K.a).INIT({value:this}),this.activatedRoute.fragment.pipe(Object(a.a)(()=>!!this.docElement),Object(c.a)(this.destroy$)).subscribe(e=>{const t=this.docElement.querySelector("#"+e);t&&(t.scrollIntoView(),this.linkClick$.next())})}ngOnInit(){const e=this.router.parseUrl(this.router.url);this.storeService.select($.a).pipe(U.b,Object(a.a)(Boolean),Object(d.a)(1)).subscribe(()=>{const t=document.querySelector(this.selector);this.scrollContainer=document.querySelector(".scroll-container"),this.docElement=t,e.fragment&&this.restorePosition("#"+e.fragment),this.initHeaders(),this.updateScrollPosition()})}ngOnChanges(e){Object(q.a)(e.index,this.index)&&this.storeService.select(z.a).pipe(Object(J.a)(this.index)).subscribe(e=>{this.selector=e.selector})}ngOnDestroy(){this.destroy$.next()}updateScrollPosition(){Object(i.a)(Object(o.a)(this.scrollContainer,"scroll"),this.linkClick$).pipe(Object(l.a)(50),Object(c.a)(this.destroy$)).subscribe(e=>{for(let t=0;t<this.headersElement.length;t++){const{top:e}=this.headersElement[t].getBoundingClientRect();if(e>=64){this.catalogList.forEach((e,s)=>{e.active=t===s});break}}this.dataSource.data=this.dataSource.data,this.cd.detectChanges()})}initHeaders(){const e=this.docElement.querySelectorAll("h1,h2,h3,h4,h5,h6");this.headersElement=e;const t=[];let s=new se;const n=s;this.rootNode=s;let r=!1;e.forEach(e=>{const{top:n}=e.getBoundingClientRect();let i=!1;!r&&n>=64&&(i=!0,r=!0);const o=e.tagName.toLowerCase();let a=s;const c=e.innerText.trim();for(;a;){const e=+o.substr(1);if(!(e<=a.level)){s={level:e,parent:a,children:[],name:c,active:i},t.push(s),a.children.push(s);break}a=a.parent}}),this.catalogList=t,this.dataSource.data=n.children,this.treeControl.expandAll()}restorePosition(e){this.docElement.querySelector(e).scrollIntoView()}open(){console.log("\u6253\u5f00"),this.display="block"}close(){console.log("\u5173\u95ed"),this.display="none"}}return e.\u0275fac=function(t){return new(t||e)(_.Mb(G.c),_.Mb(G.a),_.Mb(_.F),_.Mb(_.h),_.Mb(Z.a),_.Mb(Q.a))},e.\u0275cmp=_.Gb({type:e,selectors:[["doc-catalog"]],viewQuery:function(e,t){var s;1&e&&_.uc(L,!0),2&e&&_.oc(s=_.bc())&&(t.matTree=s.first)},hostVars:2,hostBindings:function(e,t){2&e&&_.vc("display",t.display)},inputs:{index:"index",selector:"selector"},features:[_.zb],decls:3,vars:3,consts:[[3,"dataSource","treeControl"],["matTreeNodePadding","",4,"matTreeNodeDef"],["matTreeNodePadding","",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding",""],["mat-button","",3,"routerLink","fragment","color"],["mat-icon-button","","matTreeNodeToggle",""]],template:function(e,t){1&e&&(_.Sb(0,"mat-tree",0),_.wc(1,ee,3,6,"mat-tree-node",1),_.wc(2,te,6,7,"mat-tree-node",2),_.Rb()),2&e&&(_.jc("dataSource",t.dataSource)("treeControl",t.treeControl),_.Bb(2),_.jc("matTreeNodeDefWhen",t.hasChild))},directives:[L,P,j,A,W.a,G.e,W.b,I,X.a],styles:["[_nghost-%COMP%]{flex:0 0 auto!important}[_nghost-%COMP%]   mat-tree[_ngcontent-%COMP%]{position:sticky;top:20px;background:transparent}[_nghost-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]{min-height:0}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{padding:0;min-width:0}"]}),e})(),re=(()=>{class e{constructor(){this.entry=ne}}return e.\u0275mod=_.Kb({type:e}),e.\u0275inj=_.Jb({factory:function(t){return new(t||e)},imports:[[n.c,F,X.b,W.c,G.f]]}),e})()}}]);